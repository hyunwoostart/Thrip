<header class="header mo_header">
    <nav class="gnb">
        <h1>
            <a href="/">
                <img src="../public/img/common/logo.png" alt="" />
            </a>
        </h1>
        <a href="javascript:location.href = document.referrer" class="ico_back">
            <span class="blind">뒤로 가기</span>
        </a>
        <ul class="main_menu">
            <li><a href="/triplist">내 여행</a></li>
            <li><a href="/chat">채팅</a></li>
            <li>
                <a
                    href="https://docs.google.com/presentation/d/1MHGHddxPXoRxG-iYWyaZhi-2Wa5DTFJzb_bS_nxFEX4/edit?usp=sharing"
                    >소개</a
                >
            </li>
        </ul>
        <ul class="sub_menu">
            <li>
                <ul class="login_wrap">
                    <li class="login_off">
                        <a href="/login" class="info_txt">로그인</a>
                    </li>
                    <li class="login_off">
                        <a href="/signup" class="info_txt">회원가입</a>
                    </li>
                    <li class="login_on hide"><a href="/myPage" class="info_txt username_txt"></a></li>
                    <li class="login_on hide">
                        <a href="#none" onclick="logoutFunc()" class="info_txt">로그아웃</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="" class="ico_ham">
                    <span class="blind">메뉴</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<script>
    (async function () {
        if (localStorage.getItem('token')) {
            const res = await axios({
                method: 'GET',
                url: '/api/member/find',
                headers: {
                    Authorization: `Bearer ${localStorage.getItem('token')}`,
                },
            });
            document.querySelector('.login_wrap .username_txt').textContent = res.data.result.username + ' 님';
            document.querySelectorAll('.login_on')[0].classList.remove('hide');
            document.querySelectorAll('.login_on')[1].classList.remove('hide');
            document.querySelectorAll('.login_off')[0].classList.add('hide');
            document.querySelectorAll('.login_off')[1].classList.add('hide');
        }
    })();
</script>
